!function(e,t,i,s){i.swipebox=function(s,o){var a,n,r={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},l=this,d=[],p=s.selector,b=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),c=null!==b||void 0!==t.createTouch||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,u=!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h=e.innerWidth?e.innerWidth:$(e).width(),g=e.innerHeight?e.innerHeight:$(e).height(),f=0;l.settings={},i.swipebox.close=function(){a.closeSlide()},i.swipebox.extend=function(){return a},l.init=function(){l.settings=i.extend({},r,o),i.isArray(s)?(d=s,a.target=$(e),a.init(l.settings.initialIndexOnArray)):$(t).on("click",p,function(e){if("slide current"===e.target.parentNode.className)return!1;i.isArray(s)||(a.destroy(),n=$(p),a.actions()),d=[];var t,o,r;r||(o="data-rel",r=$(this).attr(o)),r||(o="rel",r=$(this).attr(o)),(n=r&&""!==r&&"nofollow"!==r?$(p).filter("["+o+'="'+r+'"]'):$(p)).each(function(){var e=null,t=null;$(this).attr("title")&&(e=$(this).attr("title")),$(this).attr("href")&&(t=$(this).attr("href")),d.push({href:t,title:e})}),t=n.index($(this)),e.preventDefault(),e.stopPropagation(),a.target=$(e.target),a.init(t)})},a={init:function(e){l.settings.beforeOpen&&l.settings.beforeOpen(),this.target.trigger("swipebox-start"),i.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),l.settings.afterOpen&&l.settings.afterOpen(e)},build:function(){var e;$("body").append('<div id="swipebox-overlay">\t\t\t\t\t<div id="swipebox-container">\t\t\t\t\t\t<div id="swipebox-slider"></div>\t\t\t\t\t\t<div id="swipebox-top-bar">\t\t\t\t\t\t\t<div id="swipebox-title"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div id="swipebox-bottom-bar">\t\t\t\t\t\t\t<div id="swipebox-arrows">\t\t\t\t\t\t\t\t<a id="swipebox-prev"></a>\t\t\t\t\t\t\t\t<a id="swipebox-next"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<a id="swipebox-close"></a>\t\t\t\t\t</div>\t\t\t</div>'),u&&!0===l.settings.useSVG&&(e=(e=$("#swipebox-close").css("background-image")).replace("png","svg"),$("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":e})),b&&l.settings.removeBarsOnMobile&&$("#swipebox-bottom-bar, #swipebox-top-bar").remove(),i.each(d,function(){$("#swipebox-slider").append('<div class="slide"></div>')}),this.setDim(),this.actions(),c&&this.gesture(),this.keyboard(),this.animBars(),this.resize()},setDim:function(){var t,i,s={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){0===e.orientation?(t=h,i=g):90!==e.orientation&&-90!==e.orientation||(t=g,i=h)},!1):(t=e.innerWidth?e.innerWidth:$(e).width(),i=e.innerHeight?e.innerHeight:$(e).height()),s={width:t,height:i},$("#swipebox-overlay").css(s)},resize:function(){var t=this;$(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var e,i="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(e=0;e<i.length;e++)if(void 0!==t.createElement("div").style[i[e]])return i[e];return!1},doCssTrans:function(){if(l.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var e,t,i,s,o,a,n=this,r=!1,l=!1,p={},b={},c=$("#swipebox-top-bar, #swipebox-bottom-bar"),u=$("#swipebox-slider");c.addClass("visible-bars"),n.setTimeout(),$("body").bind("touchstart",function(n){return $(this).addClass("touching"),e=$("#swipebox-slider .slide").index($("#swipebox-slider .slide.current")),b=n.originalEvent.targetTouches[0],p.pageX=n.originalEvent.targetTouches[0].pageX,p.pageY=n.originalEvent.targetTouches[0].pageY,$("#swipebox-slider").css({"-webkit-transform":"translate3d("+f+"%, 0, 0)",transform:"translate3d("+f+"%, 0, 0)"}),$(".touching").bind("touchmove",function(n){if(n.preventDefault(),n.stopPropagation(),b=n.originalEvent.targetTouches[0],!l&&(o=i,i=b.pageY-p.pageY,Math.abs(i)>=50||r)){var c=.75-Math.abs(i)/u.height();u.css({top:i+"px"}),u.css({opacity:c}),r=!0}s=t,t=b.pageX-p.pageX,a=100*t/h,!l&&!r&&Math.abs(t)>=10&&($("#swipebox-slider").css({"-webkit-transition":"",transition:""}),l=!0),l&&(0<t?0===e?$("#swipebox-overlay").addClass("leftSpringTouch"):($("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),$("#swipebox-slider").css({"-webkit-transform":"translate3d("+(f+a)+"%, 0, 0)",transform:"translate3d("+(f+a)+"%, 0, 0)"})):0>t&&(d.length===e+1?$("#swipebox-overlay").addClass("rightSpringTouch"):($("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),$("#swipebox-slider").css({"-webkit-transform":"translate3d("+(f+a)+"%, 0, 0)",transform:"translate3d("+(f+a)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(e){if(e.preventDefault(),e.stopPropagation(),$("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),i=b.pageY-p.pageY,t=b.pageX-p.pageX,a=100*t/h,r)if(r=!1,Math.abs(i)>=100&&Math.abs(i)>Math.abs(o)){var d=i>0?u.height():-u.height();u.animate({top:d+"px",opacity:0},300,function(){n.closeSlide()})}else u.animate({top:0,opacity:1},300);else l?(l=!1,t>=10&&t>=s?n.getPrev():t<=-10&&t<=s&&n.getNext()):c.hasClass("visible-bars")?(n.clearTimeout(),n.hideBars()):(n.showBars(),n.setTimeout());$("#swipebox-slider").css({"-webkit-transform":"translate3d("+f+"%, 0, 0)",transform:"translate3d("+f+"%, 0, 0)"}),$("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),$(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(l.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout(function(){t.hideBars()},l.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=$("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.addClass("visible-bars"):($("#swipebox-top-bar").animate({top:0},500),$("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=$("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.removeClass("visible-bars"):($("#swipebox-top-bar").animate({top:"-50px"},500),$("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,t=$("#swipebox-top-bar, #swipebox-bottom-bar");t.addClass("visible-bars"),e.setTimeout(),$("#swipebox-slider").click(function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),$("#swipebox-bottom-bar").hover(function(){e.showBars(),t.addClass("visible-bars"),e.clearTimeout()},function(){l.settings.hideBarsDelay>0&&(t.removeClass("visible-bars"),e.setTimeout())})},keyboard:function(){var t=this;$(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?t.getPrev():39===e.keyCode?t.getNext():27===e.keyCode&&t.closeSlide()})},actions:function(){var e=this,t="touchend click";d.length<2?($("#swipebox-bottom-bar").hide(),void 0===d[1]&&$("#swipebox-top-bar").hide()):($("#swipebox-prev").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()}),$("#swipebox-next").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()})),$("#swipebox-close").bind(t,function(){e.closeSlide(),$("#nav_btn").prop("disabled",!0),setTimeout(function(){$("#nav_btn").prop("disabled",!1)},100)})},setSlide:function(e,t){t=t||!1;var i=$("#swipebox-slider");f=100*-e,this.doCssTrans()?i.css({"-webkit-transform":"translate3d("+100*-e+"%, 0, 0)",transform:"translate3d("+100*-e+"%, 0, 0)"}):i.animate({left:100*-e+"%"}),$("#swipebox-slider .slide").removeClass("current"),$("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&i.fadeIn(),$("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===e?$("#swipebox-prev").addClass("disabled"):e===d.length-1&&!0!==l.settings.loopAtEnd&&$("#swipebox-next").addClass("disabled")},openSlide:function(t){$("html").addClass("swipebox-html"),c?($("html").addClass("swipebox-touch"),l.settings.hideCloseButtonOnMobile&&$("html").addClass("swipebox-no-close-button")):$("html").addClass("swipebox-no-touch"),$(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,i=null;void 0!==d[e]&&(i=d[e].href),t.isVideo(i)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t,i;if(void 0!==d[e]&&(t=d[e].href),e<0||e>=d.length)return!1;i=$("#swipebox-slider .slide").eq(e),this.isVideo(t)?(i.html(this.getVideo(t)),l.settings.afterMedia&&l.settings.afterMedia(e)):(i.addClass("slide-loading"),this.loadMedia(t,function(){i.removeClass("slide-loading"),i.html(this),l.settings.afterMedia&&l.settings.afterMedia(e)}))},setTitle:function(e){var t=null;$("#swipebox-title").empty(),void 0!==d[e]&&(t=d[e].title),t?($("#swipebox-top-bar").show(),$("#swipebox-title").append(t)):$("#swipebox-top-bar").hide()},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(e.toLowerCase().indexOf("swipeboxvideo=1")>=0)return!0}},parseUri:function(e,s){var o=t.createElement("a"),a={};return o.href=decodeURIComponent(e),o.search&&(a=JSON.parse('{"'+o.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),i.isPlainObject(s)&&(a=i.extend(a,s,l.settings.queryStringData)),$.map(a,function(e,t){if(e&&e>"")return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")},getVideo:function(e){var t="",i=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),s=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),o=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),n="";return i||s?(s&&(i=s),n=a.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",v:""}),t='<iframe width="560" height="315" src="//'+i[1]+"/embed/"+i[2]+"?"+n+'" frameborder="0" allowfullscreen></iframe>'):o?(n=a.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:l.settings.vimeoColor}),t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?"+n+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):t='<iframe width="560" height="315" src="'+e+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+l.settings.videoMaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(0===e.trim().indexOf("#"))t.call($("<div>",{class:"swipebox-inline-container"}).append($(e).clone().toggleClass(l.settings.toggleClassOnLoad)));else if(!this.isVideo(e)){var i=$("<img>").on("load",function(){t.call(i)});i.attr("src",e)}},getNext:function(){var e,t=$("#swipebox-slider .slide").index($("#swipebox-slider .slide.current"));t+1<d.length?(e=$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t++,this.setSlide(t),this.preloadMedia(t+1),l.settings.nextSlide&&l.settings.nextSlide(t)):!0===l.settings.loopAtEnd?(e=$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t=0,this.preloadMedia(t),this.setSlide(t),this.preloadMedia(t+1),l.settings.nextSlide&&l.settings.nextSlide(t)):($("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){$("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var e,t=$("#swipebox-slider .slide").index($("#swipebox-slider .slide.current"));t>0?(e=$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),$("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t--,this.setSlide(t),this.preloadMedia(t-1),l.settings.prevSlide&&l.settings.prevSlide(t)):($("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){$("#swipebox-overlay").removeClass("leftSpring")},500))},nextSlide:function(e){},prevSlide:function(e){},closeSlide:function(){$("html").removeClass("swipebox-html"),$("html").removeClass("swipebox-touch"),$(e).trigger("resize"),this.destroy()},destroy:function(){$(e).unbind("keyup"),$("body").unbind("touchstart"),$("body").unbind("touchmove"),$("body").unbind("touchend"),$("#swipebox-slider").unbind(),$("#swipebox-overlay").remove(),i.isArray(s)||s.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),i.swipebox.isOpen=!1,l.settings.afterClose&&l.settings.afterClose()}},l.init()},i.fn.swipebox=function(e){if(!i.data(this,"_swipebox")){var t=new i.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery);